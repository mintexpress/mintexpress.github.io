<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Skewl â€“ Games</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="games.css" rel="stylesheet">
    <link href="style.css" rel="stylesheet">
</head>

<body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg bg-dark shadow-sm">
        <div class="container">
            <a href="index.html" class="navbar-brand text-hot-pink">skewl</a>
            <div class="ms-auto d-flex">
                <a href="games.html" class="btn btn-hot-pink">Games</a>
                <button class="btn btn-orange">Study Materials</button>
            </div>
        </div>
    </nav>

    <header class="text-center mt-4">
        <h1 class="text-hot-pink">Games</h1>
    </header>

    <div class="container mt-4">
        <div id="gamesContainer" class="row g-4"></div>
    </div>

    <script>
        fetch('config/games.json')
            .then(res => res.json())
            .then(games => {
                const container = document.getElementById('gamesContainer');
                games.forEach(game => {
                    const col = document.createElement('div');
                    col.className = 'col-6 col-md-4 col-lg-3';

                    const card = document.createElement('div');
                    card.className = 'game-card text-center';

                    const img = document.createElement('img');
                    img.src = game.imgSrc || 'default-icon.png';
                    img.alt = game.title;
                    img.style.width = "80%";

                    const title = document.createElement('h5');
                    title.textContent = game.title;

                    const btn = document.createElement('a');
                    // Pass the game title as the ID (or create a slug from it)
                    btn.href =
                        `play.html?link=${encodeURIComponent(game.link)}&title=${encodeURIComponent(game.title)}`;
                    btn.className = 'btn btn-hot-pink mt-2';
                    btn.textContent = 'Play';

                    card.append(img, title, btn);
                    col.appendChild(card);
                    container.appendChild(col);
                });
            })
            .catch(error => console.error('Error loading games:', error));
    </script>
</body>

</html>